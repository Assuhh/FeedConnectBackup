{% extends "base.html" %}
{% block title %}My Listings - Pet Feeder{% endblock %}

{% block content %}
<style>
.product-card {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border: 2px solid transparent;
            background-clip: padding-box;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            will-change: transform;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }
</style>

<div class="container mt-4">
  <h1 class="text-center mb-4" style="color: #fff; font-weight: bold;">My Listings</h1>

  <!-- My Products Section -->
  <h3 style="color: #fff; font-weight: bold;">My Products</h3>
  <div class="row">
    {% for product in products %}
    <div class="col-md-4 mb-4">
      <div class="product-card" style="
          position: relative;
          border-radius: 12px;
          overflow: hidden;
          padding: 1rem;
          background: rgba(255, 255, 255, 0.15);
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
          border: 2px solid transparent;
          background-clip: padding-box;
        ">
        <div style="
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            z-index: -1;
            background: linear-gradient(135deg, white, gray);
            border-radius: 14px;
          "></div>

        {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;">
        {% endif %}
        <div style="margin-top: 1rem;">
          <h5 style="color: #000; font-weight: bold;">{{ product.name }}</h5>
          <p style="color: #000;">{{ product.description|truncatewords:15 }}</p>
          <p style="color: #000;">Price: ₱{{ product.price }}</p>
          <p style="color: #000;">Stock: {{ product.stock }}</p>
        </div>
      </div>
    </div>
    {% empty %}
    <p style="color: #fff;">You have not posted any products.</p>
    {% endfor %}
  </div>

  <!-- My Services Section -->
  <h3 style="color: #fff; font-weight: bold; margin-top: 2rem;">My Services</h3>
  <div class="row">
    {% for service in services %}
    <div class="col-md-4 mb-4">
      <div class="product-card" style="
          position: relative;
          border-radius: 12px;
          overflow: hidden;
          padding: 1rem;
          background: rgba(255, 255, 255, 0.15);
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
          border: 2px solid transparent;
          background-clip: padding-box;
        ">
        <div style="
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            z-index: -1;
            background: linear-gradient(135deg, white, gray);
            border-radius: 14px;
          "></div>

        {% if service.image %}
        <img src="{{ service.image.url }}" alt="{{ service.title }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;">
        {% endif %}
        <div style="margin-top: 1rem;">
          <h5 style="color: #000; font-weight: bold;">{{ service.title }}</h5>
          <p style="color: #000;">{{ service.description|truncatewords:15 }}</p>
          <p style="color: #000;">Price: ₱{{ service.price }}</p>
        </div>
      </div>
    </div>
    {% empty %}
    <p style="color: #fff;">You have not posted any services.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
